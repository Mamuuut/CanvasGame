define([],function(){function e(e,t){this._container=$('<div id="canvas_container"></div>'),this._canvas=$('<canvas id="game_canvas" width="'+e+'" height="'+t+'"></canvas>'),this._children=[],this._container.append(this._canvas),this._ctx=this._canvas[0].getContext("2d")}return e.prototype.getContext=function(){return this._ctx},e.prototype.getView=function(){return this._canvas},e.prototype.clear=function(){this._ctx.clearRect(0,0,this._ctx.canvas.width,this._ctx.canvas.height)},e.prototype.drawTexture=function(e,t,n,r,i,s){var o=r?r*s:0,u=0,a=r||e.width,f=e.height,l=-a/2,c=-f/2;this._ctx.translate(t-l,n-c),this._ctx.scale(i,1),this._ctx.drawImage(e,o,u,a,f,l,c,a,f),this._ctx.scale(1/i,1),this._ctx.translate(-t+l,-n+c)},e.prototype.fillRect=function(e,t,n,r,i){this._ctx.fillStyle=i,this._ctx.fillRect(e,t,n,r)},e.prototype.fillBottomRect=function(e,t,n){this._ctx.fillStyle=n,this._ctx.fillRect(0,this._ctx.canvas.height-e-t,this._ctx.canvas.width,e)},e})