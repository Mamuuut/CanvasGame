define(["GameEngine/Helpers/ImageLoader","GameEngine/Views/Sprite"],function(e,t){function n(n,r){this._nbFrames=0,this._currentFrames=0,n.img=e.getImage(n.src),t.call(this,n.img,r),this.updateTextureIndex=function(){this._currentFrames++;if(this._currentFrames>=n.frameDuration){var e=this.getSpriteIdx();e=(e+1)%this._nbFrames,this._currentFrames=0,this.setSpriteIdx(e)}},this._nbFrames=n.img.width/n.width}return extend(n,t),n.prototype.onDraw=function(e){this.updateTextureIndex(),n.superClass.onDraw.call(this,e)},n})